<div class="max-w-6xl mx-auto px-6 py-10 space-y-8">
	<div class="flex items-center justify-between">
		<div class="flex items-center gap-4">
			<img src="assets/poseidon.png" alt="Poseidon" class="h-32 w-auto"/>
			<div>
				<div class="text-2xl font-semibold">Poseidon</div>
				<div class="text-xs opacity-70">
					WS:
					<span [class.text-emerald-400]="ws.status() === 'open'" [class.text-rose-400]="ws.status() !== 'open'">
                        {{ ws.status() }}
					</span>
				</div>
			</div>
		</div>
	</div>

	<button (click)="resetPaper()" class="px-3 py-1.5 rounded-lg bg-slate-800 hover:bg-slate-700 ring-1 ring-white/10 text-xs cursor-pointer">
		Reset paper
	</button>

	<!-- KPI cards -->
	<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
		<div class="rounded-2xl ring-1 ring-white/10 bg-slate-900/40 p-4">
			<div class="text-slate-400 text-sm">Unrealized PnL</div>
			<div class="mt-2"><pnl-badge [value]="unrealized()?.unrealized_pnl || 0" suffix="$"></pnl-badge></div>
		</div>

		<div class="rounded-2xl ring-1 ring-white/10 bg-slate-900/40 p-4">
			<div class="text-slate-400 text-sm">Realized PnL</div>
			<div class="flex items-center gap-3 mt-2">
				<pnl-badge [value]="realizedTotal()?.realized_pnl_total || 0" suffix="$"></pnl-badge>
				<span class="text-slate-400 text-xs">24h:</span>
				<pnl-badge [value]="realized24h()?.realized_pnl_24h || 0" suffix="$"></pnl-badge>
			</div>
		</div>

		<div class="rounded-2xl ring-1 ring-white/10 bg-slate-900/40 p-4">
			<div class="text-slate-400 text-sm">Equity</div>
			<div class="text-2xl font-semibold text-white">$ {{ equity() | number:'1.2-2' }}</div>
			<sparkline [data]="spark()" [width]="220" [height]="40"></sparkline>
		</div>

		<div class="rounded-2xl ring-1 ring-white/10 bg-slate-900/40 p-4">
			<div class="text-slate-400 text-sm">Cash</div>
			<div class="text-2xl font-semibold text-white">$ {{ cash() | number:'1.2-2' }}</div>
			<div class="text-xs text-slate-400">Holdings: $ {{ holdings() | number:'1.2-2' }}</div>
		</div>
	</div>

	<!-- Positions -->
	<div class="rounded-2xl ring-1 ring-white/10 bg-slate-900/40">
		<div class="px-5 py-3 font-medium border-b border-white/10">Open Positions</div>
		<positions-table></positions-table>
	</div>

	<!-- Trades -->
	<div class="rounded-2xl ring-1 ring-white/10 bg-slate-900/40">
		<div class="px-5 py-3 font-medium border-b border-white/10">Recent Trades</div>
		<trades-table></trades-table>
	</div>

	<!-- DEBUG (retire quand ok) -->
	<!-- <pre class="text-xs opacity-50">{{ ws.portfolio() | json }}</pre> -->
</div>
